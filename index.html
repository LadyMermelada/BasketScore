<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Basket Score Pro</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div class="header-tools">
        <h1>BASKET<span style="color:var(--primary)">SCORE</span></h1>
        <div class="backup-btns">
            <button class="btn-tool" onclick="exportData()">EXPORTAR</button>
            <button class="btn-tool" onclick="document.getElementById('importFile').click()">IMPORTAR</button>
            <input type="file" id="importFile" style="display:none" onchange="importData(event)">
        </div>
    </div>

    <div class="main-layout">
        <div class="court-wrapper">
            <svg class="court-svg" viewBox="0 0 150 140" preserveAspectRatio="xMidYMid meet">
                <rect x="50" y="0" width="50" height="58" />
                <line x1="60" y1="10" x2="90" y2="10" />
                <circle cx="75" cy="15" r="3" />
                <path d="M 50 58 A 25 25 0 1 0 100 58" />
                <path d="M 15 0 L 15 35 Q 15 100 75 100 Q 135 100 135 35 L 135 0" />
            </svg>
            <div class="grid-overlay" id="gridOverlay"></div>
        </div>

        <div class="sidebar">
            <div class="stat-card" onmouseleave="resetStats('tl')">
                <div class="stat-header"><h4>Tiros Libres (30d)</h4><div class="stat-value" id="val-tl">--</div></div>
                <div class="stat-date" id="date-tl"></div>
                <div class="chart-container"><canvas id="chart-tl"></canvas></div>
            </div>
            <div class="stat-card" onmouseleave="resetStats('2p')">
                <div class="stat-header"><h4>2 Puntos (30d)</h4><div class="stat-value" id="val-2p">--</div></div>
                <div class="stat-date" id="date-2p"></div>
                <div class="chart-container"><canvas id="chart-2p"></canvas></div>
            </div>
            <div class="stat-card" onmouseleave="resetStats('3p')">
                <div class="stat-header"><h4>3 Puntos (30d)</h4><div class="stat-value" id="val-3p">--</div></div>
                <div class="stat-date" id="date-3p"></div>
                <div class="chart-container"><canvas id="chart-3p"></canvas></div>
            </div>
        </div>
    </div>

    <div class="table-container">
        <table>
            <thead><tr><th>FECHA</th><th>ZONA</th><th>CAT.</th><th>RATIO</th><th>%</th><th>NOTA</th><th>ACCIONES</th></tr></thead>
            <tbody id="logBody"></tbody>
        </table>
    </div>

    <div class="modal-overlay" id="overlay" onclick="closeModal()"></div>
    <div id="modal">
        <button class="modal-close-btn" onclick="closeModal()">×</button>
        <h2 id="zoneText"></h2>
        <span class="modal-label">Fecha</span>
        <input type="date" id="inputDate">
        <span class="modal-label">Total Lanzados</span>
        <input type="number" id="inputTotal" min="1" placeholder="Ej: 10">
        <span class="modal-label">Total Encestados</span>
        <input type="number" id="inputMade" min="0" placeholder="Ej: 7">
        <span class="modal-label">Nota (Opcional)</span>
        <textarea id="inputNote" maxlength="50" placeholder="Sensaciones..."></textarea>
        <p id="errorMsg" class="error-text">⚠️ Verifica los datos (encestados ≤ total)</p>
        <button id="saveBtn" class="btn-save">Confirmar Sesión ✓</button>
    </div>

    <script src="script.js"></script>
</body>
</html>
